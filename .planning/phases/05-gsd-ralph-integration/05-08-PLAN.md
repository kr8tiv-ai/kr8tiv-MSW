---
phase: 05-gsd-ralph-integration
plan: 08
type: execute
wave: 4
depends_on: ["05-02", "05-05", "05-07"]
files_modified:
  - src/planning/index.ts
  - src/execution/index.ts
autonomous: true

must_haves:
  truths:
    - "All planning and execution modules are exported via barrel files"
    - "Project builds without errors after all Phase 5 modules added"
  artifacts:
    - path: "src/planning/index.ts"
      provides: "Barrel exports for planning module"
      exports: ["readState", "updateState", "initState", "toGsdXml", "fromGsdXml", "generatePrd"]
    - path: "src/execution/index.ts"
      provides: "Barrel exports for execution module"
      exports: ["IterationTracker", "RalphRunner", "FeedbackInjector", "CompletionDetector", "BehavioralVerifier"]
  key_links:
    - from: "src/planning/index.ts"
      to: "src/planning/*.ts"
      via: "re-exports"
      pattern: "export .* from"
    - from: "src/execution/index.ts"
      to: "src/execution/*.ts"
      via: "re-exports"
      pattern: "export .* from"
---

<objective>
Create barrel exports for planning and execution modules, verify full project build.

Purpose: Clean module boundaries and build verification before Phase 6 integration.
Output: Barrel files + confirmed build.
</objective>

<execution_context>
@C:\Users\lucid\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lucid\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/05-gsd-ralph-integration/05-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Barrel exports and build verification</name>
  <files>src/planning/index.ts, src/execution/index.ts</files>
  <action>
  Create `src/planning/index.ts`:
  ```typescript
  export { readState, updateState, initState, addIterationRecord } from './state-manager.js';
  export { toGsdXml, fromGsdXml } from './gsd-adapter.js';
  export { generatePrd } from './prd-generator.js';
  export type { GsdState, GsdRoadmap, GsdProject, IterationRecord } from '../types/planning.js';
  export type { MswTask, PrdConfig } from './gsd-adapter.js';
  ```

  Create `src/execution/index.ts`:
  ```typescript
  export { IterationTracker } from './iteration-tracker.js';
  export { RalphRunner } from './ralph-runner.js';
  export { FeedbackInjector } from './feedback-injector.js';
  export { CompletionDetector } from './completion-detector.js';
  export { BehavioralVerifier } from './behavioral-verifier.js';
  export type { RalphState, RalphConfig, IterationResult } from '../types/execution.js';
  ```

  Note: Do NOT re-export stop-hook.ts -- it's a standalone entry point, not a module.

  Run `npx tsc --noEmit` on the full project to verify everything compiles together.
  </action>
  <verify>`npx tsc --noEmit` passes for entire project (no arguments = uses tsconfig.json).</verify>
  <done>All Phase 5 modules accessible via clean barrel exports. Full project builds without errors.</done>
</task>

</tasks>

<verification>
`npx tsc --noEmit` passes. Imports from 'src/planning' and 'src/execution' resolve all exports.
</verification>

<success_criteria>
Phase 5 modules are properly exported and the full project compiles.
</success_criteria>

<output>
After completion, create `.planning/phases/05-gsd-ralph-integration/05-08-SUMMARY.md`
</output>
